name: Go
on: [push]
jobs:

  build_test:
    name: Build
    runs-on: ubuntu-latest
    steps:

    - name: Set up Go 1.18
      uses: actions/setup-go@v3
      with:
        go-version: 1.18
      id: go

    - name: Checkout üõéÔ∏è
      uses: actions/checkout@v3

    - name: Install and Build for All Platforms üîß
      run: |
        mkdir -p ./build
        env GOOS=linux GOARCH=amd64    go build -o ./build/GDDoS-linux-amd64
        env GOOS=linux GOARCH=arm64    go build -o ./build/GDDoS-linux-arm64
        env GOOS=linux GOARCH=arm      go build -o ./build/GDDoS-linux-arm
        env GOOS=linux GOARCH=mips     go build -o ./build/GDDoS-linux-mips
        env GOOS=linux GOARCH=mipsle   go build -o ./build/GDDoS-linux-mipsle
        env GOOS=linux GOARCH=mips64   go build -o ./build/GDDoS-linux-mips64
        env GOOS=linux GOARCH=mips64le go build -o ./build/GDDoS-linux-mips64le
        env GOOS=darwin GOARCH=amd64   go build -o ./build/GDDoS-macos-amd64
        env GOOS=darwin GOARCH=arm64   go build -o ./build/GDDoS-macos-arm64
        
    - name: Upload a Build Artifact
      uses: actions/upload-artifact@v3.0.0
      with:
        name: artifact # optional, default is artifact
        # A file, directory or wildcard pattern that describes what to upload
        path: ./build/GDDoS-*
        # The desired behavior if no files are found using the provided path.
        if-no-files-found: warn # optional, default is warn
 
